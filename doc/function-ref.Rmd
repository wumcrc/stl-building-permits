#Data_cleaning function references

`dir.create` creates a new folder in a specified location, often using the `here` function from the `here` package to specify the desired location.

`here` is a function from the `here` package that is used for file path referencing. It specifically directs you to your current working directory.

`getwd` gives you your current working directory.

`file.path` constructs file paths in a platform independent way.

`filter` is a dplyr function that is used to clean data. Specifically it is used to find rows/cases where a condition is true. If the condition is true then the values are kept, if not they are dropped.

`group_by` takes an existing tbl and converts it into a grouped tbl based on a specific variable.

`rename` does exactly what you think it does. It renames variables based on name.

`replace` replaces a certain value with another. It is used in this notebook to replace NAs with 0.

`mutate` is used to create a new variable in your data frame.

`ifelse` is a function that provides a condition. If this condition is true, it executes a command, if the condition isn't true it executes a seperate command. It is used in this notebook along with the `mutate` function to create new variables based on existing variables in a dataset.

`grepl` searches for matches to a pattern. It is used in this notebook along with `ifelse` and `mutate` to look for matches to, for example, neighborhood number and then create a variable with the corresponding neighborhood name.

`select` comes from the dplyr package and is used to select variables from a dataset that you wish to keep (it can also be used to remove unwanted variables).

`summarise` is used in conjunction with `group_by` to create an output that has one row for each group specified in the `summarise` function.

`as.Date` converts a specified variable to a date format. This is used in this notebook so that we can filter out observations based on the date they occurred. 

`write_csv` is a function used to write a .csv file from a dataset.

#monthly-bldgprmt-report.Rmd function reference

`lay_new` creates a custom layout. You use the `matrix` argument to specify the location of figures.

`lay_bind_row` combines custom layouts. In this instance, we are combining the title layout with the body layout for our powerpoint slide.

`phl_layout` transforms your custom layout to an officer PowerPoint slide.

`fp_text` creates a font style for an officer powerpoint slide.

`ftext` creates a formatted chunk of text, often referencing `fp_text` for formatting instructions.

`fpar` creates formatted paragraphs in Powerpoint. Used to concatenate `ftext` objects into a paragraph.

`block_list` combines several blocks, or `fpar` objects, into a single object. Used to create formatted paragraphs in Powerpoint.

`read_pptx` creates a powerpoint presentation. You can use a variety of functions to add content to the presentation once the object is created.

`add_slide` adds a powerpoint slide to an existing powerpoint object. Specify what kind of layout you want the slide to be.

`ph_with` adds content to an existing powerpoint slide. This function often follows the `add_slide` function. This function is used to add everything from tables, to titles to body paragraphs on your powerpoint slide.

`sprintf` creates a character vector containing a formatted combination of text and variable values. In this notebook it is used for summary notes where it references the paramaters as well as certain variable values.

`filter` is a dplyr function that is used to clean data. Specifically it is used to find rows/cases where a condition is true. If the condition is true then the values are kept, if not they are dropped.

`group_by` takes an existing tbl and converts it into a grouped tbl based on a specific variable.

`rename` does exactly what you think it does. It renames variables based on name.

`replace` replaces a certain value with another. It is used in this notebook to replace NAs with 0.

`add_row` adds a row to a dataframe. It is used to add rows to tables based on whether or not a specific crime was committed. So, if there were no arsons that month, the `add_row` function is used to add this crime with values of 0.

`arrange` sorts a variable in ascending order

`adorn_totals` adds a "totals" row or column to a data frame.

`colformat_num` formats numeric variables in a flextable. Specifically aimed at controlling the number of digits displayed.

`add_header_lines` adds a header to a flextable.

`autofit` is used to automatically adjust flextable height and width to fit the size of desired content.

`is_empty` checks if an object has a value or not. If the value is missing, then we use `add_row` to add the missing permit type.

`tm_shape` creates a tmap-element that draws polygons.

`tm_fill` fills map shapes based on what you want. You can either choose a fixed color or map create a color palette mapped to a variable.

`tm_borders` adds borders to a map shape

`tm_credits` adds map credits.

`tm_bubbles` creates bubbles. This is how we represent crime points on a map.

`tm_layout` specifies map layout. Used for controlling/creating map legend

`tmap_save` saves a tmap object.

`ggsave` saves a ggplot object.

`theme` is a ggplot function that allows you to control the non-data parts of your plot (i.e. title, labels, fonts, etc.)

`convert_to_pdf` uses libreOffice (another application) to convert the saved powerpoint into a PDF.

`ggplot` initializes a ggplot object. Can be used to specify the data frame and the plot aesthetics.

`geom_bar` creates a bar plot in a ggplot object

`geom_text` is used to place text in a ggplot object. It is used in this notebook to label the stacked bar chart values that are greater than a certain amount.

`coord_flip` flips the x and the y axis in ggplot.

`scale_colour_manual` used to assign specific color values to ggplot. This references the `cols` vector to make sure that symbology is consistent throughout the report.

`xlab` `ylab` creates axis labels in a ggplot object.

`unique` returns all unique values in a given vector. It is used in the `for` loop of this notebook to extract the neighborhood name in each iteration of the loop.

`comment` adds a comment to any R object. It is used in this notebook to add the neighborhood name to the basemap tiles. This helps the `for` loop run more efficiently.

`min` returns the minimum value in a vector.

`max` returns the maximum value in a vector.

`median` returns the median value of a vector.

`mean` returns the mean average of a vector.

`sum` returns the total sum of a vector

`currency` formats values as currency.

`is.infinite` checks if a value is infinite or not. It is used in the summary notes to identify whether a perentage change is infinite or not, i.e. dividing a number by 0.

`is.nan` is used to check if a value is NA or not. It is used in the summary notes to identify NA values, which are instances where mathematic operations cannot apply, i.e. when there are no building permits and ergo no values to perform such operations.

`percent` formats values as a percentage

`as.numeric` formats values as numberic.

`summarise` or `summarize` are used in conjunction with `group_by` to create an output that has one row for each group specified in the `summarise` function.

`set_header_lables` allows you to change column names in a flextable.

`st_as_sf` converts an object into a simple feature object.

`st_transform` transforms or converts the coordinates of a simple feature object.

`dollar_format` is used with ggplot to represent values in dollar format.

`st_write` writes a simple feature to a file or database.

`st_read` reads a simple feature from a file or databease.

`scale_y_continuous` is used to set y axis labels. Used with `dollar_format` in order to format y axis labels in dollar format.

`gw_get_data` is from the `Gateway` package which is specifically used for accessing St. Louis City data.

`merge` combines two datasets by a certain variable.
